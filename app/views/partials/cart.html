<div class="container">
  <div ng-if="!session.is_logged_in()">
    <alert type="">Se necesita estar logueado.</alert>
  </div>
  <div ng-if="session.is_logged_in()">
		<div ng-if="cart.items.length == 0">
			<div class="row">
				<alert type="">El carrito esta vacio.</alert>
			</div>
		</div>
		<div ng-if="cart.items.length > 0">
		<br/>
    <div class="action row">
      <div class="col-md-12">
        <div class="pull-right">
          <a class="btn btn-danger" ng-click="onClickRemoveAll()">Vaciar Carrito</a>
          <a class="btn btn-success" href="#checkout">Finalizar Compra</a>
        </div>
      </div>
    </div>
    <div class="summary">
      <div class="header row">
        <div class="col-md-6">
          <h4>Productos</h4>
        </div>
        <div class="col-md-2">
          <h4>Cantidad</h4>
        </div>
        <div class="col-md-2">
          <h4>Precio Unitario</h4>
        </div>
        <div class="col-md-2">
          <h4>Total</h4>
        </div>
      </div>
      <br/>
      <div ng-repeat="item in cart.items | orderBy:'-product.name'">
        <div class="product row">
          <div class="col-md-2 image">
            <img src="{{item.product.images[0]}}" style="height:100px;" alt="{{ item.product.name }}">
            <button class="btn-danger" ng-click="onClickRemove(item)">Quitar</button>
          </div>
          <div class="col-md-4 desc">
            <h5>{{ item.product.name }}</h5>
          </div>
          <div class="col-md-2 amount">
            <select class="form-control"
							ng-change="updateQuantity(item)"
							ng-model="cart.items[$index].quantity"
							ng-options="q for q in quantities">
            </select>
          </div>
          <div class="col-md-2 price">${{ item.product.price }}</div>
          <div class="col-md-2 total">${{ item.product.price * item.quantity }}</div>
        </div>
        <br/>
      </div>
      <div class="total row">
        <div class="col-md-2 col-md-offset-8">
          <h3>Total</h3>
        </div>
        <div class="col-md-2 total">
          <h3>{{variables.totalPrice}}</h3>
        </div>
      </div>
      <br/>
      <div class="action row">
        <div class="col-md-12">
          <div class="pull-right">
            <a class="btn btn-danger" ng-click="onClickRemoveAll()">Vaciar Carrito</a>
            <a class="btn btn-success" href="#checkout">Finalizar Compra</a>
          </div>
        </div>
      </div>
      <br/>
    </div>
	</div>
  </div>
</div>
