<nav class="navbar navbar-default" id="header">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" ng-href="#/">Neon</a>
    </div>

    <ul class="nav navbar-nav categories">
      <li ng-repeat="filter in ['hombres', 'mujeres', 'chicos', 'chicas']" class="dropdown" dropdown>
        <a class="dropdown-toggle" dropdown-toggle data-toggle="dropdown" role="button" aria-expanded="false">{{filter}}<span class="caret"></span></a>

        <ul class="dropdown-menu" role="menu">
          <li ng-repeat="category in categories">
             <a ng-href="#category/{{ filter }}/{{ category.id }}">{{ category.name }}</a>
          </li>
          <!-- <li class="divider"></li> -->
        </ul>
      </li>
    </ul>

    <form class="navbar-form navbar-right search" role="search">
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Search">
      </div>
      <button type="submit" class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button>
    </form>

    <ul class="nav navbar-nav navbar-right buttons">
      <li>
        <a ng-href="#/profile">
          <span ng-if="session.is_logged_in()">{{ session.profile.firstName }}</span>
          <i class="glyphicon glyphicon-user"></i>
        </a>
      </li>
      <li><a ng-href="#/liked"><i class="glyphicon glyphicon-heart"></i></a></li>

      <li class="cart dropdown" dropdown ng-if="session.is_logged_in()">
        <a class="dropdown-toggle" dropdown-toggle data-toggle="dropdown" role="button" aria-expanded="false">
          <i class="glyphicon glyphicon-shopping-cart"></i>
          <span class="badge">{{ cart.items.length }}</span>
          <span class="caret"></span>
        </a>

        <ul class="dropdown-menu drawer" role="menu">
          <div ng-if="! cart.order_id">
            <button class="btn btn-lg btn-warning"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Cargando...</button>
          </div>

          <ul ng-if="cart.items" class="items">
            <li ng-repeat="item in cart.items" class="item row">
                <div class="image col-md-3">
                  <a href="#/product/{{ item.product.id }}">
                    <img ng-src="{{ item.product.images[0] }}" alt="{{ item.product.name }}" />
                  </a>
                </div>

                <div class="desc col-md-5">
                  <a href="#/product/{{ item.product.id }}" class="name">{{ item.product.name }}</a>
                </div>

                <div class="col-md-4">
                  <p class="price">${{ item.product.price }}</p>
                  <button class="btn btn-danger remove" ng-click="cart.remove(cart.items[$index])">Quitar</button>
                </div>
            </li>
          </ul>

          <div class="row" ng-if="cart.items">
            <div class="col-md-8">${{ cart.total() }} en {{ cart.items.length }} productos</div>
            <div class="col-md-4">
              <button class="btn btn-success checkout" ng-click="checkout()">Comprar</button>
            </div>
          </div>
        </ul>
      </li>

      <li><a ng-href="#/faq"><i class="glyphicon glyphicon-question-sign"></i></a></li>

      <li class="dropdown" dropdown>
        <!-- <a>Items in cart: {{ cart.items.length }}</a> -->
        <a class="dropdown-toggle" dropdown-toggle data-toggle="dropdown" role="button" aria-expanded="false">
          Cajón Mágico <span class="caret"></span>
        </a>

        <ul class="dropdown-menu" role="menu" style="width: 500px">
          {{ magicDrawer }}
        </div>
        </ul>
      </li>
    </ul>
  </div><!-- /.container-fluid -->
</nav>
