<div class="container" id="profile">

  <h1>Perfil</h1>
  <form class="form-horizontal update">
    <div form-input label="'Nombre'" model="form.firstName"></div>
    <div form-input data-label="'Número Mágico'" model="form.identityCard"></div>
    <div form-input label="'E-mail'" model="form.email"></div>

    <div class="pull-right">
      <button type="submit" class="btn btn-danger" ng-click="logout()">Cerrar Sesión</button>
      <button type="submit" class="btn btn-success" ng-click="update()" ng-disabled="loading">
          Guardar cambios
      </button>
    </div>
    <span ng-if="update_form_loading">CARGANDO</span>
    <div class="clearfix"></div>
  </form>

  <div class="history">
    <h1>Historial</h1>

    <div ng-if="! orders.length">
      <div class="alert alert-info">No has comprado nada hasta el momento</div>
    </div>

    <div ng-if="orders.length">
      <table class="table orders">
        <thead>
          <th>Orden</th>
          <th>Estado</th>
          <th>Confirmada</th>
          <th>Enviada</th>
          <th>Recibida</th>
        </thead>

        <tbody>
          <tr ng-repeat="order in orders">
            <td class="order">
              <p class="id">
                # {{ order.id }}
              </p>
              <p class="card"><span>Tarjeta: </span>{{ order.creditCard | formatCard }}</p>
              <p class="address"><span>Dirección: </span>{{ order.address.name }}</p>
            </td>
            <td ng-switch="order.status" class="status">
              <span ng-switch-when="confirmed" class="label label-info">Confirmada</span>
              <span ng-switch-when="sent" class="label label-info">Enviada</span>
              <span ng-switch-when="received" class="label label-info">Recibida</span>
            </td>
            <td>{{  order.processedDate }}</td>
            <td>{{  order.shippedDate }}</td>
            <td>{{  order.deliveredDate }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
